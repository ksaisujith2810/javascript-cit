<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>JSONPlaceholder Posts</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<div class="container mt-4">
    <h1 class="mb-4">JSONPlaceholder Posts</h1>

    <div class="row">
        <div class="col-md-4">
            <div id="postButtons" class="list-group">
            </div>
        </div>  
        <div class="col-md-8">
            <div id="postDetails">
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const postButtons = document.getElementById('postButtons');
        const postDetailsContainer = document.getElementById('postDetails');

        // Create buttons for posts 1 to 100
        for (let i = 1; i <= 100; i++) {
            const button = document.createElement('button');
            button.type = 'button';
            button.classList.add('list-group-item', 'list-group-item-action');
            button.innerText = `Post ${i}`;
            button.dataset.postId = i; // Store post id as a data attribute
            postButtons.appendChild(button);
        }

        // Event listener for button click
        postButtons.addEventListener('click', async function (event) {
            const clickedButton = event.target.closest('button');
            if (clickedButton) {
                const postId = clickedButton.dataset.postId;
                try {
                    // Fetch the details of the selected post using async/await
                    const response = await fetch(`https://jsonplaceholder.typicode.com/posts/${postId}`);
                    const post = await response.json();

                    // Create a new table for post details using DOM
                    const postDetailsTable = document.createElement('table');
                    postDetailsTable.classList.add('table');
                    postDetailsTable.createTHead();

                    // Add attributes to the table
                    postDetailsTable.setAttribute('border', '1');
                    postDetailsTable.setAttribute('class', 'table');

                    const tbody = document.createElement('tbody');

                    // Add rows and cells to the table
                    const addRow = (label, value) => {
                        const tr = document.createElement('tr');
                        const th = document.createElement('th');
                        const td = document.createElement('td');

                        th.textContent = label;
                        td.textContent = value;

                        tr.appendChild(th);
                        tr.appendChild(td);

                        tbody.appendChild(tr);
                    };

                    addRow('User ID', post.userId);
                    addRow('Post ID', post.id);
                    addRow('Title', post.title);
                    addRow('Body', post.body);

                    postDetailsTable.appendChild(tbody);
                    postDetailsContainer.innerHTML = '';
                    postDetailsContainer.appendChild(postDetailsTable);
                } catch (error) {
                    console.error('Error fetching post details:', error);
                }
            }
        });
    });
</script>

</body>
</html>
