<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- <button onclick="generateone()">Generate</button> -->
    <button onclick="generateEmployee()">generateEmployee</button>
</body>

<!-- <script>

    function generateone(){
        fetch('https://jsonplaceholder.typicode.com/users/2')
    .then(response => response.json())
    .then(data => {
        console.log(data);
        users(data);
    });
    }

    function users(data) {
        let table = document.createElement('table');
        table.setAttribute("border","1");
        table.innerHTML='<thead><tr><th>ID</th><th>Name</th><th>Username</th><th>Email</th></tr></thead>';
        let tbody = document.createElement('tbody');
        var tr = document.createElement('tr');
        tr.innerHTML = `<td>${data.id}</td><td>${data.name}</td><td>${data.username}</td><td>${data.email}</td>`;
        tbody.appendChild(tr);
        table.appendChild(tbody);                  
        document.body.appendChild(table);
}   
</script> -->

<script>
function generateEmployee() {
    fetch('https://jsonplaceholder.typicode.com/users')
    .then(response => response.json())
    .then(data => {
        console.log(data);
        users(data);
    });
}
function users(data) {
     let table = document.createElement('table');
     table.setAttribute("border","1");
     table.innerHTML='<thead><tr><th>ID</th><th>Name</th><th>Username</th><th>Email</th><th>action</th></tr></thead>';
     let tbody = document.createElement('tbody');
     for(var i=0;i<data.length;i++){
         var tr = document.createElement('tr');
         tr.innerHTML = `<td>${i+1}</td><td>${data[i].name}</td><td>${data[i].username}</td><td>${data[i].email}</td><td><button onclick="action(${data[i].id})">Action</td>`;
         tbody.appendChild(tr);
     }
     table.appendChild(tbody);                  
     document.body.appendChild(table);
    }

    function action(data) {
        console.log(data);
        let table = document.createElement('table');
        table.setAttribute("border","1");
        table.innerHTML='<thead><tr><th>ID</th><th>Name</th><th>Username</th><th>Email</th></tr></thead>';
        let tbody = document.createElement('tbody');
        fetch('https://jsonplaceholder.typicode.com/users/'+data)
        .then(response => response.json())
        .then(data => {
        console.log(data);
        var tr = document.createElement('tr');
         tr.innerHTML = `<td>${data.id}</td><td>${data.name}</td><td>${data.username}</td><td>${data.email}</td>`;
         tbody.appendChild(tr);
         table.appendChild(tbody);                  
        document.body.appendChild(table);
        }
        );
        

    }
</script>
</html>
